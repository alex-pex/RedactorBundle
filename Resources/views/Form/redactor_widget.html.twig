{% form_theme form _self %}

{% block redactor_widget %}
    {% spaceless %}
        <textarea {{ block('widget_attributes') }}>{{ value }}</textarea>

        <script type="text/javascript" src="{{ asset('bundles/tpredactor/js/redactor.js') }}"></script>
        <script type="text/javascript">
            {% autoescape false %}
            $(document).ready(
                    function()
                    {
                        $('#{{ id }}').redactor({ imageGetJson: Routing.generate('redactor_images'), imageUpload: Routing.generate('redactor_upload') });
                    }
            );

            {% endautoescape %}
        </script>
    {% endspaceless %}
{% endblock %}